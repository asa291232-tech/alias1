<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Игра Alias</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.2); }
            50% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.4); }
            100% { box-shadow: 0 0 5px rgba(255, 255, 255, 0.2); }
        }
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        .word-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .word-card:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(236, 72, 153, 0.5);
        }
        .button-glow {
            transition: all 0.3s ease;
        }
        .button-glow:hover {
            animation: glow 1s ease-in-out infinite;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e1e2f 0%, #2a2a4a 100%);
        }
        .container {
            background: #2d2d44;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="container max-w-xl mx-auto rounded-3xl shadow-2xl p-8 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-gray-800/30 to-purple-900/30 opacity-50"></div>
        <h1 class="text-5xl font-bold text-center text-pink-400 mb-8 relative z-10">Игра Alias</h1>
        
        <!-- Экран выбора команд -->
        <div id="teamSelection" class="text-center relative z-10 slide-in">
            <h2 class="text-3xl font-semibold text-gray-200 mb-6">Выберите количество команд</h2>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                <button onclick="startGame(2)" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-5 rounded-xl transition button-glow">2 команды</button>
                <button onclick="startGame(3)" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-5 rounded-xl transition button-glow">3 команды</button>
                <button onclick="startGame(4)" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-5 rounded-xl transition button-glow">4 команды</button>
                <button onclick="startGame(5)" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-5 rounded-xl transition button-glow">5 команд</button>
                <button onclick="startGame(6)" class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-5 rounded-xl transition button-glow">6 команд</button>
            </div>
        </div>

        <!-- Игровой экран -->
        <div id="gameScreen" class="hidden relative z-10 slide-in">
            <div id="scores" class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8"></div>
            <div id="word" class="word-card text-4xl font-bold text-center text-yellow-300 bg-gray-700/80 p-6 rounded-2xl mb-6 border-2 border-yellow-500/30">Нажмите "Начать раунд"</div>
            <div id="timer" class="text-3xl font-semibold text-center text-cyan-400 mb-6">30</div>
            <div class="flex justify-center gap-4 flex-wrap">
                <button id="startButton" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-xl transition button-glow">Начать раунд</button>
                <button id="correctButton" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-xl transition button-glow" disabled>Правильно</button>
                <button id="skipButton" class="bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-6 rounded-xl transition button-glow" disabled>Пропустить</button>
            </div>
        </div>
    </div>

    <script>
        const words = [
            "яблоко", "машина", "книга", "телефон", "дерево", "солнце", "река", "стул", 
            "окно", "музыка", "птица", "часы", "зеркало", "луна", "цветок", "облако", 
            "кофе", "дверь", "стол", "мяч", "звезда", "карандаш", "собака", "кошка", 
            "море", "небо", "гора", "дождь", "ветер", "песок", "лампа", "диван", 
            "самолет", "поезд", "гитара", "пианино", "картина", "пальто", "шляпа", 
            "очки", "рюкзак", "зонтик", "чайник", "чашка", "ложка", "вилка", "тарелка", 
            "холодильник", "телевизор", "ковер", "подушка", "одеяло", "шкаф", "зубная щетка", 
            "мыло", "полотенце", "часы", "ключ", "замок", "дверь", "окно", "крыша", 
            "стена", "пол", "потолок", "лестница", "лифт", "автобус", "трамвай", 
            "метро", "велосипед", "скейтборд", "ролики", "лыжи", "коньки", "мяч", 
            "ракетка", "теннис", "футбол", "баскетбол", "волейбол", "бассейн", "пляж", 
            "песок", "камень", "трава", "лист", "ветка", "корень", "плод", "семя", 
            "роза", "тюльпан", "ромашка", "подсолнух", "кактус", "пальма", "ель", 
            "сосна", "береза", "дуб", "яблоня", "груша"
        ];
        let scores = [];
        let currentTeam = 0;
        let timeLeft = 30;
        let timer;
        let numberOfTeams = 0;
        let totalCorrectGuesses = 0;

        const teamSelection = document.getElementById("teamSelection");
        const gameScreen = document.getElementById("gameScreen");
        const scoresContainer = document.getElementById("scores");
        const wordDisplay = document.getElementById("word");
        const timerDisplay = document.getElementById("timer");
        const startButton = document.getElementById("startButton");
        const correctButton = document.getElementById("correctButton");
        const skipButton = document.getElementById("skipButton");

        function startGame(teams) {
            numberOfTeams = teams;
            scores = Array(teams).fill(0);
            totalCorrectGuesses = 0;
            currentTeam = 0;
            teamSelection.classList.add("hidden");
            gameScreen.classList.remove("hidden");
            startButton.classList.remove("hidden");
            wordDisplay.textContent = "Нажмите 'Начать раунд'";
            timerDisplay.textContent = "30";
            updateScoresDisplay();
        }

        function updateScoresDisplay() {
            scoresContainer.innerHTML = scores.map((score, index) => 
                `<div class="text-lg font-semibold text-gray-200 bg-gray-700/50 p-2 rounded-lg">Команда ${index + 1}: <span id="score${index}">${score}</span></div>`
            ).join("");
        }

        function getRandomWord() {
            const index = Math.floor(Math.random() * words.length);
            return words[index];
        }

        function resetGame() {
            scores = Array(numberOfTeams).fill(0);
            totalCorrectGuesses = 0;
            currentTeam = 0;
            timeLeft = 30;
            timerDisplay.textContent = timeLeft;
            wordDisplay.textContent = "Нажмите 'Начать раунд'";
            startButton.classList.remove("hidden");
            correctButton.disabled = true;
            skipButton.disabled = true;
            updateScoresDisplay();
            if (timer) {
                clearInterval(timer);
            }
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = timeLeft;
                if (timeLeft <= 0 || totalCorrectGuesses >= 140) {
                    clearInterval(timer);
                    wordDisplay.textContent = totalCorrectGuesses >= 140 ? "Игра окончена!" : "Раунд окончен!";
                    correctButton.disabled = true;
                    skipButton.disabled = true;
                    startButton.classList.remove("hidden");
                    if (totalCorrectGuesses < 140) {
                        currentTeam = (currentTeam + 1) % numberOfTeams;
                        timeLeft = 30;
                    } else {
                        startButton.textContent = "Начать новую игру";
                    }
                }
            }, 1000);
        }

        startButton.addEventListener("click", () => {
            if (totalCorrectGuesses >= 140) {
                resetGame();
                startButton.textContent = "Начать раунд";
            }
            if (timer) {
                clearInterval(timer);
            }
            timeLeft = 30;
            timerDisplay.textContent = timeLeft;
            wordDisplay.textContent = getRandomWord();
            startButton.classList.add("hidden");
            correctButton.disabled = false;
            skipButton.disabled = false;
            startTimer();
        });

        correctButton.addEventListener("click", () => {
            if (timeLeft > 0 && totalCorrectGuesses < 140) {
                scores[currentTeam]++;
                totalCorrectGuesses++;
                updateScoresDisplay();
                wordDisplay.textContent = getRandomWord();
            }
        });

        skipButton.addEventListener("click", () => {
            if (timeLeft > 0 && totalCorrectGuesses < 140) {
                wordDisplay.textContent = getRandomWord();
            }
        });
    </script>
</body>
</html>